{"version":3,"sources":["store/index.tsx","store/actions.ts","components/ToDoForm/style.tsx","components/ToDoForm/index.tsx","components/ToDoList/style.tsx","components/ToDo/style.tsx","components/IconButton.tsx","components/ToDo/index.tsx","components/ToDoList/index.tsx","components/SortFilter/style.tsx","components/SortFilter/index.tsx","index.tsx"],"names":["Priority","todoCreated","createAction","todoEdited","todoPriorityChanged","todoDeleted","priorityCleared","allTodosCleared","sortChanged","sortApplied","todoEditModeEntered","actions","todoCompletedStateModified","persistConfig","key","storage","priorities","Object","keys","filter","value","isNaN","Number","priorityToString","p","persistedReducer","persistReducer","state","toDos","editId","undefined","sort","sorted","action","produce","draft","type","getType","modifiedTodo","find","todo","id","payload","currentState","completed","index","length","editedTodo","content","newContent","priorityToDo","priority","newPriority","a","b","store","createStore","composeWithDevTools","applyMiddleware","useTypedSelector","persistStore","useSelector","Form","styled","form","Input","input","Select","select","Button","button","ToDoForm","dispatch","useDispatch","useState","setContent","setPriority","onSubmit","e","preventDefault","uuid","v4","onChange","target","placeholder","selectedIndex","map","ListWrapper","div","Wrapper","Header","TextEditor","IconButton","ToDo","isInEditMode","tempValue","setTemp","useDrag","item","collect","monitor","opacity","isDragging","drag","ref","checked","onClick","size","ToDoList","todos","onDrop","clearGroup","useDrop","drop","accept","isOver","canDrop","disabled","style","flex","background","SortFilter","isDiabled","options","indexOf","option","rootElement","document","getElementById","render","DndProvider","backend","Backend","isSorted","useEffect","className"],"mappings":"uKAcYA,E,8DCXNC,EAAcC,uBAAa,eAAbA,GAGdC,EAAaD,uBAAa,cAAbA,GAIbE,EAAsBF,uBAAa,wBAAbA,GAItBG,EAAcH,uBAAa,eAAbA,GACdI,EAAkBJ,uBAAa,2BAAbA,GAClBK,EAAkBL,uBAAa,oBAAbA,GAClBM,EAAcN,uBAAa,eAAbA,GACdO,EAAcP,uBAAa,eAAbA,GACdQ,EAAsBR,uBAAa,yBAAbA,GAKfS,EAAU,CACrBC,2BALiCV,uBACjC,mCADiCA,GAMjCQ,sBACAT,cACAE,aACAC,sBACAC,cACAC,kBACAC,kBACAC,cACAC,e,uCDzBII,EAAgB,CACpBC,IAAK,OACLC,Q,OAAAA,I,SAGUf,O,+BAAAA,I,yBAAAA,I,cAAAA,M,KAML,IAAMgB,EAAaC,OAAOC,KAAKlB,GAAUmB,QAC9C,SAAAC,GAAK,OAAKC,MAAMC,OAAOF,OAGZG,EAAmB,SAACC,GAC/B,OAAa,IAANA,EAAU,gBAAwB,IAANA,EAAU,YAAc,OAgGvDC,EAAmBC,YAAeb,GA5EY,eAClDc,EADkD,uDATxB,CAC1BC,MAAO,GACPC,YAAQC,EACRC,KAAM,QACNC,QAAQ,GAORC,EAFkD,8CAIlDC,YAAQP,GAAO,SAAAQ,GACb,OAAQF,EAAOG,MACb,KAAKC,kBAAQ1B,EAAQC,4BACnB,IAAM0B,EAAeH,EAAMP,MAAMW,MAC/B,SAAAC,GAAI,OAAIA,EAAKC,KAAOR,EAAOS,WAE7B,GAAIJ,EAAc,CAChB,IAAMK,EAAeL,EAAaM,UAClCN,EAAaM,WAAaD,EAE5B,MACF,KAAKN,kBAAQ1B,EAAQD,qBACnByB,EAAMN,OAASI,EAAOS,QACtB,MACF,KAAKL,kBAAQ1B,EAAQV,aACnBkC,EAAMP,MAAN,sBACKO,EAAMP,OADX,gBAEOK,EAAOS,QAFd,CAEuBG,MAAOV,EAAMP,MAAMkB,OAAQF,WAAW,MAE7DT,EAAMH,QAAS,EACf,MACF,KAAKK,kBAAQ1B,EAAQR,YACnB,IAAM4C,EAAaZ,EAAMP,MAAMW,MAC7B,SAAAC,GAAI,OAAIA,EAAKC,KAAOR,EAAOS,QAAQD,MAEjCM,IAAYA,EAAWC,QAAUf,EAAOS,QAAQO,YACpDd,EAAMN,YAASC,EACf,MACF,KAAKO,kBAAQ1B,EAAQP,qBACnB,IAAM8C,EAAef,EAAMP,MAAMW,MAC/B,SAAAC,GAAI,OAAIA,EAAKC,KAAOR,EAAOS,QAAQD,MAEjCS,IAAcA,EAAaC,SAAWlB,EAAOS,QAAQU,aACzDjB,EAAMH,QAAS,EACf,MACF,KAAKK,kBAAQ1B,EAAQN,aACnB8B,EAAMP,MAAQO,EAAMP,MAAMT,QAAO,SAAAqB,GAAI,OAAIA,EAAKC,KAAOR,EAAOS,WAC5D,MACF,KAAKL,kBAAQ1B,EAAQL,iBACnB6B,EAAMP,MAAQO,EAAMP,MAAMT,QACxB,SAAAqB,GAAI,OAAIA,EAAKW,WAAalB,EAAOS,WAEnC,MACF,KAAKL,kBAAQ1B,EAAQJ,iBACnB4B,EAAMP,MAAQ,GACd,MACF,KAAKS,kBAAQ1B,EAAQH,aACnB2B,EAAMJ,KAAOE,EAAOS,QACpBP,EAAMH,QAAS,EACf,MACF,KAAKK,kBAAQ1B,EAAQF,aACd0B,EAAMH,SACU,QAAfG,EAAMJ,KACRI,EAAMP,MAAQO,EAAMP,MAAMG,MAAK,SAACsB,EAAGC,GAAJ,OAC7BD,EAAEL,QAAUM,EAAEN,QAAU,GAAK,KAEP,QAAfb,EAAMJ,KACfI,EAAMP,MAAQO,EAAMP,MAAMG,MAAK,SAACsB,EAAGC,GAAJ,OAC7BD,EAAEL,QAAUM,EAAEN,SAAW,EAAI,KAG/Bb,EAAMP,MAAQO,EAAMP,MAAMG,MAAK,SAACsB,EAAGC,GAAJ,OAC7BD,EAAER,MAAQS,EAAET,MAAQ,GAAK,KAG7BV,EAAMH,QAAS,UASZuB,EAAQC,sBACnB/B,EACAgC,8BAAoBC,8BAKTC,GAFYC,YAAaL,GAEuBM,K,8YEhItD,IAAMC,EAAOC,IAAOC,KAAV,KAIJC,EAAQF,IAAOG,MAAV,KAILC,EAASJ,IAAOK,OAAV,KACNC,EAASN,IAAOO,OAAV,K,iBCJNC,EAAW,WACtB,IAAMC,EAAWC,cADW,EAEEC,mBAAS,IAFX,mBAErB1B,EAFqB,KAEZ2B,EAFY,OAGID,mBAAS,GAHb,mBAGrBvB,EAHqB,KAGXyB,EAHW,KAI5B,OACE,kBAACd,EAAD,CACEe,SAAU,SAAAC,GACRA,EAAEC,iBACFP,EAAS7D,EAAQV,YAAY,CAAEwC,GAAIuC,IAAKC,KAAMjC,UAASG,cACvDwB,EAAW,MAGb,kBAACV,EAAD,CACE7C,MAAO4B,EACPkC,SAAU,SAAAJ,GAAC,OAAIH,EAAWG,EAAEK,OAAO/D,QACnCgE,YAAY,+BAEd,kBAACjB,EAAD,CACE/C,MAAOJ,EAAWmC,GAClB+B,SAAU,SAAAJ,GAAC,OAAIF,EAAYE,EAAEK,OAAOE,iBAEnCrE,EAAWsE,KAAI,SAACxE,EAAK+B,GAAN,OACd,4BAAQ/B,IAAKA,EAAKM,MAAON,GACtBS,EAAiBsB,QAIxB,kBAACwB,EAAD,sB,yeChCC,IAAMkB,EAAcxB,IAAOyB,IAAV,KAOXC,EAAU1B,IAAOyB,IAAV,KAQPE,EAAS3B,IAAOyB,IAAV,K,uZCfZ,IAAMC,GAAU1B,IAAOyB,IAAV,KAiBPG,GAAa5B,IAAOG,MAAV,K,8PCjBhB,IAAM0B,GAAa7B,IAAOO,OAAV,MCOVuB,GAER,SAAC,GAAoD,IAAD,IAAjDrD,KAAQQ,EAAyC,EAAzCA,QAASP,EAAgC,EAAhCA,GAAIU,EAA4B,EAA5BA,SAAUP,EAAkB,EAAlBA,UAC/B4B,EAAWC,cACXqB,EAAenC,GAAiB,SAAAhC,GAAK,OAAIA,EAAME,SAAWY,KAFT,EAG1BiC,mBAAS1B,GAHiB,mBAGhD+C,EAHgD,KAGrCC,EAHqC,OAK3BC,aAAQ,CAClCC,KAAM,CAAEzD,KAAIU,WAAUf,KAAM,KAC5B+D,QAAS,SAACC,GAAD,MAAyC,CAChDC,QAASD,EAAQE,aAAe,GAAM,MARa,mBAKnCC,GALmC,KAK9CF,QAL8C,MAWvD,OACE,kBAAC,GAAD,CAASG,IAAKD,GACZ,2BACEE,QAAS7D,EACTR,KAAK,WACL8C,SAAU,kBAAMV,EAAS7D,EAAQC,2BAA2B6B,OAE5DqD,EAQA,oCACE,kBAACH,GAAD,CACEvE,MAAO2E,EACPb,SAAU,SAAAJ,GAAC,OAAIkB,EAAQlB,EAAEK,OAAO/D,UAGlC,kBAACwE,GAAD,CACEc,QAAS,kBACPlC,EAAS7D,EAAQR,WAAW,CAAEsC,KAAIQ,WAAY8C,OAGhD,kBAAC,KAAD,CAASY,KAAK,SAlBlB,oCACE,iCAAO3D,GACP,kBAAC4C,GAAD,CAAYc,QAAS,kBAAMlC,EAAS7D,EAAQD,oBAAoB+B,MAC9D,kBAAC,KAAD,CAAQkE,KAAK,SAmBnB,kBAACf,GAAD,CAAYc,QAAS,kBAAMlC,EAAS7D,EAAQN,YAAYoC,MACtD,kBAAC,KAAD,CAASkE,KAAK,U,SC7CTC,GAKR,SAAC,GAA6C,IAA3CzD,EAA0C,EAA1CA,SAAU0D,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAAiB,EACZC,aAAQ,CAC1CC,KAAMH,EACNI,OAAQ,IACRf,QAAS,SAACC,GAAD,MAAyD,CAChEe,OAAQf,EAAQe,SAChBC,QAAShB,EAAQgB,cAN2B,0BAC9BD,GAD8B,EACvCC,QADuC,EAC9BD,QAAUF,EADoB,KAUhD,OACE,kBAACxB,EAAD,CAASe,IAAKS,GACZ,kBAACvB,EAAD,KACE,4BAAKnE,EAAiB4B,IACtB,kBAACyC,GAAD,CAAYyB,SAA2B,IAAjBR,EAAM/D,OAAc4D,QAASK,GACjD,kBAAC,KAAD,CAAeJ,KAAK,SAGxB,yBACEW,MAAO,CACLC,KAAM,MACNC,WAAYL,EAAS,kBAAoB,gBAG1CN,EAAMvB,KAAI,SAAA9C,GAAI,OACb,kBAAC,GAAD,CAAM1B,IAAK0B,EAAKC,GAAID,KAAMA,U,oTCpC7B,IAAMiD,GAAU1B,IAAOyB,IAAV,MCIPiC,GAA+C,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UACvDlD,EAAWC,cACXkD,EAAU,CAAC,QAAS,MAAO,OAC3B5F,EAAO4B,GAAiB,SAAAhC,GAAK,OAAIA,EAAMI,QAC7C,OACE,kBAAC,GAAD,KACE,4BACEsF,SAAUK,EACVhB,QAAS,kBAAMlC,EAAS7D,EAAQJ,qBAFlC,aAMA,qCACA,4BACEa,MAAOuG,EAAQC,QAAQ7F,GACvBmD,SAAU,SAAAJ,GAAC,OACTN,EAAS7D,EAAQH,YAAYmH,EAAQ7C,EAAEK,OAAOE,mBAG/CsC,EAAQrC,KAAI,SAACuC,EAAQhF,GAAT,OACX,4BAAQ/B,IAAK+B,EAAOzB,MAAOyB,GACxBgF,SCqBb,IAAMC,GAAcC,SAASC,eAAe,QAC5CC,iBACE,kBAAC,IAAD,CAAU1E,MAAOA,GACf,kBAAC2E,GAAA,EAAD,CAAaC,QAASC,MACpB,mBAvCN,WACE,IAAMvB,EAAQlD,GAAiB,SAAAhC,GAAK,OAAIA,EAAMC,SACxCyG,EAAW1E,GAAiB,SAAAhC,GAAK,OAAIA,EAAMK,UAE3CwC,EAAWC,cAKjB,OAJA6D,qBAAU,WACR9D,EAAS7D,EAAQF,iBAChB,CAAC+D,EAAU6D,IAGZ,yBAAKE,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,GAAD,CAAYb,UAA4B,IAAjBb,EAAM/D,SAC7B,kBAACyC,EAAD,KACGvE,EAAWsE,KAAI,SAACnC,EAAUN,GAAX,OACd,kBAAC,GAAD,CACE/B,IAAK+B,EACLM,SAAUN,EACVgE,MAAOA,EAAM1F,QAAO,SAAAqB,GAAI,OAAIA,EAAKW,WAAaN,KAC9CkE,WAAY,kBAAMvC,EAAS7D,EAAQL,gBAAgBuC,KACnDiE,OAAQ,SAAAZ,GAAI,OACV1B,EACE7D,EAAQP,oBAAoB,CAC1BgD,YAAaP,EACbJ,GAAIyD,EAAKzD,gBAerB,QAGJqF,M","file":"static/js/main.abb6548a.chunk.js","sourcesContent":["import { Actions, actions } from \"./actions\";\r\nimport { Reducer, createStore, applyMiddleware } from \"redux\";\r\nimport { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport produce from \"immer\";\r\nimport { getType } from \"typesafe-actions\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\"; // defaults to localStorage for web\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage\r\n};\r\n\r\nexport enum Priority {\r\n  lifeChanging,\r\n  important,\r\n  meh\r\n}\r\n\r\nexport const priorities = Object.keys(Priority).filter(\r\n  value => !isNaN(Number(value))\r\n);\r\n\r\nexport const priorityToString = (p: number): string => {\r\n  return p === 0 ? \"Life Changing\" : p === 1 ? \"Important\" : \"Meh\";\r\n};\r\n\r\nexport type ToDo = {\r\n  id: string;\r\n  index: number;\r\n  priority: Priority;\r\n  content: string;\r\n  completed: boolean;\r\n};\r\n\r\nconst initialState = () => ({\r\n  toDos: [] as ToDo[],\r\n  editId: undefined as undefined | string,\r\n  sort: \"Index\",\r\n  sorted: false\r\n});\r\n\r\nexport type State = Readonly<ReturnType<typeof initialState>>;\r\n\r\nexport const rootReducer: Reducer<State, Actions> = (\r\n  state = initialState(),\r\n  action: Actions\r\n) =>\r\n  produce(state, draft => {\r\n    switch (action.type) {\r\n      case getType(actions.todoCompletedStateModified):\r\n        const modifiedTodo = draft.toDos.find(\r\n          todo => todo.id === action.payload\r\n        );\r\n        if (modifiedTodo) {\r\n          const currentState = modifiedTodo.completed;\r\n          modifiedTodo.completed = !currentState;\r\n        }\r\n        break;\r\n      case getType(actions.todoEditModeEntered):\r\n        draft.editId = action.payload;\r\n        break;\r\n      case getType(actions.todoCreated):\r\n        draft.toDos = [\r\n          ...draft.toDos,\r\n          { ...action.payload, index: draft.toDos.length, completed: false }\r\n        ];\r\n        draft.sorted = false;\r\n        break;\r\n      case getType(actions.todoEdited):\r\n        const editedTodo = draft.toDos.find(\r\n          todo => todo.id === action.payload.id\r\n        );\r\n        if (editedTodo) editedTodo.content = action.payload.newContent;\r\n        draft.editId = undefined;\r\n        break;\r\n      case getType(actions.todoPriorityChanged):\r\n        const priorityToDo = draft.toDos.find(\r\n          todo => todo.id === action.payload.id\r\n        );\r\n        if (priorityToDo) priorityToDo.priority = action.payload.newPriority;\r\n        draft.sorted = false;\r\n        break;\r\n      case getType(actions.todoDeleted):\r\n        draft.toDos = draft.toDos.filter(todo => todo.id !== action.payload);\r\n        break;\r\n      case getType(actions.priorityCleared):\r\n        draft.toDos = draft.toDos.filter(\r\n          todo => todo.priority !== action.payload\r\n        );\r\n        break;\r\n      case getType(actions.allTodosCleared):\r\n        draft.toDos = [];\r\n        break;\r\n      case getType(actions.sortChanged):\r\n        draft.sort = action.payload;\r\n        draft.sorted = false;\r\n        break;\r\n      case getType(actions.sortApplied):\r\n        if (!draft.sorted) {\r\n          if (draft.sort === \"A-Z\") {\r\n            draft.toDos = draft.toDos.sort((a, b) =>\r\n              a.content > b.content ? 1 : -1\r\n            );\r\n          } else if (draft.sort === \"Z-A\") {\r\n            draft.toDos = draft.toDos.sort((a, b) =>\r\n              a.content > b.content ? -1 : 1\r\n            );\r\n          } else {\r\n            draft.toDos = draft.toDos.sort((a, b) =>\r\n              a.index > b.index ? 1 : -1\r\n            );\r\n          }\r\n          draft.sorted = true; // this is a bit hacky, but as this is timed I didn't have chance to solve this more elegantly\r\n        }\r\n\r\n        break;\r\n    }\r\n  });\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = createStore(\r\n  persistedReducer,\r\n  composeWithDevTools(applyMiddleware())\r\n);\r\n//@ts-ignore\r\nexport const persistor = persistStore(store); // bad practice with the ignore above, but typescript error was taking up too much time.\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<State> = useSelector;\r\n","import { ActionType, createAction } from \"typesafe-actions\";\r\nimport { Priority, ToDo } from \".\";\r\n\r\nconst todoCreated = createAction(\"todo created\")<\r\n  Pick<ToDo, \"id\" | \"content\" | \"priority\">\r\n>();\r\nconst todoEdited = createAction(\"todo edited\")<{\r\n  id: string;\r\n  newContent: string;\r\n}>();\r\nconst todoPriorityChanged = createAction(\"todo priority changed\")<{\r\n  id: string;\r\n  newPriority: number;\r\n}>();\r\nconst todoDeleted = createAction(\"todo deleted\")<string>();\r\nconst priorityCleared = createAction(\"priority section cleared\")<Priority>();\r\nconst allTodosCleared = createAction(\"all todos cleared\")<void>();\r\nconst sortChanged = createAction(\"sort changed\")<string>();\r\nconst sortApplied = createAction(\"sort applied\")<void>();\r\nconst todoEditModeEntered = createAction(\"todo edit mode entered\")<string>();\r\nconst todoCompletedStateModified = createAction(\r\n  \"todo completition state modified\"\r\n)<string>();\r\n\r\nexport const actions = {\r\n  todoCompletedStateModified,\r\n  todoEditModeEntered,\r\n  todoCreated,\r\n  todoEdited,\r\n  todoPriorityChanged,\r\n  todoDeleted,\r\n  priorityCleared,\r\n  allTodosCleared,\r\n  sortChanged,\r\n  sortApplied\r\n};\r\n\r\nexport type Actions = ActionType<typeof actions>;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  margin: 0 10px;\r\n`;\r\nexport const Input = styled.input`\r\n  padding: 10px;\r\n  flex-grow: 1;\r\n`;\r\nexport const Select = styled.select``;\r\nexport const Button = styled.button`\r\n  padding: 10px 20px;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Input, Select, Button } from \"./style\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { actions } from \"../../store/actions\";\r\nimport { priorities, priorityToString } from \"./../../store/index\";\r\nimport uuid from \"uuid\";\r\n\r\nexport const ToDoForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [content, setContent] = useState(\"\");\r\n  const [priority, setPriority] = useState(0);\r\n  return (\r\n    <Form\r\n      onSubmit={e => {\r\n        e.preventDefault();\r\n        dispatch(actions.todoCreated({ id: uuid.v4(), content, priority }));\r\n        setContent(\"\");\r\n      }}\r\n    >\r\n      <Input\r\n        value={content}\r\n        onChange={e => setContent(e.target.value)}\r\n        placeholder=\"What do you need to do?...\"\r\n      />\r\n      <Select\r\n        value={priorities[priority]}\r\n        onChange={e => setPriority(e.target.selectedIndex)}\r\n      >\r\n        {priorities.map((key, index) => (\r\n          <option key={key} value={key}>\r\n            {priorityToString(index)}\r\n          </option>\r\n        ))}\r\n      </Select>\r\n      <Button>Add To List</Button>\r\n    </Form>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const ListWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1;\r\n  overflow: auto;\r\n  margin: 10px;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  button {\r\n    margin-left: 10px;\r\n    color: #fff;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n  margin: 5px 0;\r\n  border-radius: 5px;\r\n  background: #fff;\r\n  border: 1px solid #e0e0e0;\r\n  color: #000;\r\n\r\n  align-items: center;\r\n  div {\r\n    flex-grow: 1;\r\n    margin: 0 10px;\r\n  }\r\n`;\r\n\r\nexport const TextEditor = styled.input`\r\n  flex-grow: 1;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const IconButton = styled.button`\r\n  background: transparent;\r\n  border: transparent;\r\n  transition-duration: 0.2s;\r\n  padding: 0;\r\n  opacity: 0.5;\r\n  :hover:not(:disabled) {\r\n    opacity: 1;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Wrapper, TextEditor } from \"./style\";\r\nimport { ToDo as ToDoType, useTypedSelector } from \"../../store\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { actions } from \"../../store/actions\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { FaEdit, FaCheck, FaTimes } from \"react-icons/fa\";\r\nimport { IconButton } from \"../IconButton\";\r\n\r\nexport const ToDo: React.FC<{\r\n  todo: ToDoType;\r\n}> = ({ todo: { content, id, priority, completed } }) => {\r\n  const dispatch = useDispatch();\r\n  const isInEditMode = useTypedSelector(state => state.editId === id);\r\n  const [tempValue, setTemp] = useState(content);\r\n\r\n  const [{ opacity }, drag] = useDrag({\r\n    item: { id, priority, type: \"*\" },\r\n    collect: (monitor: { isDragging: () => any }) => ({\r\n      opacity: monitor.isDragging() ? 0.4 : 1\r\n    })\r\n  });\r\n  return (\r\n    <Wrapper ref={drag}>\r\n      <input\r\n        checked={completed}\r\n        type=\"checkbox\"\r\n        onChange={() => dispatch(actions.todoCompletedStateModified(id))}\r\n      />\r\n      {!isInEditMode ? (\r\n        <>\r\n          <div> {content}</div>\r\n          <IconButton onClick={() => dispatch(actions.todoEditModeEntered(id))}>\r\n            <FaEdit size=\"16\" />\r\n          </IconButton>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <TextEditor\r\n            value={tempValue}\r\n            onChange={e => setTemp(e.target.value)}\r\n          ></TextEditor>\r\n\r\n          <IconButton\r\n            onClick={() =>\r\n              dispatch(actions.todoEdited({ id, newContent: tempValue }))\r\n            }\r\n          >\r\n            <FaCheck size=\"16\" />\r\n          </IconButton>\r\n        </>\r\n      )}\r\n      <IconButton onClick={() => dispatch(actions.todoDeleted(id))}>\r\n        <FaTimes size=\"16\" />\r\n      </IconButton>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Wrapper, Header } from \"./style\";\r\nimport { ToDo as ToDoType, priorityToString } from \"../../store\";\r\nimport { ToDo } from \"../ToDo\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { IconButton } from \"../IconButton\";\r\nimport { FaTimesCircle } from \"react-icons/fa\";\r\n\r\nexport const ToDoList: React.FC<{\r\n  priority: number;\r\n  todos: ToDoType[];\r\n  onDrop: (item: any) => void;\r\n  clearGroup: () => void;\r\n}> = ({ priority, todos, onDrop, clearGroup }) => {\r\n  const [{ canDrop, isOver }, drop] = useDrop({\r\n    drop: onDrop,\r\n    accept: \"*\",\r\n    collect: (monitor: { isOver: () => any; canDrop: () => any }) => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop()\r\n    })\r\n  });\r\n\r\n  return (\r\n    <Wrapper ref={drop}>\r\n      <Header>\r\n        <h3>{priorityToString(priority)}</h3>\r\n        <IconButton disabled={todos.length === 0} onClick={clearGroup}>\r\n          <FaTimesCircle size=\"16\" />\r\n        </IconButton>\r\n      </Header>\r\n      <div\r\n        style={{\r\n          flex: \"1 1\",\r\n          background: isOver ? \"rgb(0, 77, 103)\" : \"transparent\"\r\n        }}\r\n      >\r\n        {todos.map(todo => (\r\n          <ToDo key={todo.id} todo={todo} />\r\n        ))}\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  margin: 20px 10px 0 10px;\r\n\r\n  h3 {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  button {\r\n    border-radius: 5px;\r\n    background: #fff;\r\n    border: 1px solid #e0e0e0;\r\n    margin: 0 15px 0 0;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { actions } from \"../../store/actions\";\r\nimport { useTypedSelector } from \"../../store\";\r\nimport { Wrapper } from \"./style\";\r\n\r\nexport const SortFilter: React.FC<{ isDiabled: boolean }> = ({ isDiabled }) => {\r\n  const dispatch = useDispatch();\r\n  const options = [\"Index\", \"A-Z\", \"Z-A\"];\r\n  const sort = useTypedSelector(state => state.sort);\r\n  return (\r\n    <Wrapper>\r\n      <button\r\n        disabled={isDiabled}\r\n        onClick={() => dispatch(actions.allTodosCleared())}\r\n      >\r\n        Clear All\r\n      </button>\r\n      <h3>Sort:</h3>\r\n      <select\r\n        value={options.indexOf(sort)}\r\n        onChange={e =>\r\n          dispatch(actions.sortChanged(options[e.target.selectedIndex]))\r\n        }\r\n      >\r\n        {options.map((option, index) => (\r\n          <option key={index} value={index}>\r\n            {option}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </Wrapper>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport \"./style.css\";\r\nimport { Provider, useDispatch } from \"react-redux\";\r\nimport { store, useTypedSelector, priorities } from \"./store\";\r\nimport { ToDoForm } from \"./components/ToDoForm\";\r\nimport { ToDoList } from \"./components/ToDoList\";\r\nimport { actions } from \"./store/actions\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport Backend from \"react-dnd-html5-backend\";\r\nimport { ListWrapper } from \"./components/ToDoList/style\";\r\nimport { SortFilter } from \"./components/SortFilter\";\r\n\r\nfunction App() {\r\n  const todos = useTypedSelector(state => state.toDos);\r\n  const isSorted = useTypedSelector(state => state.sorted);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(actions.sortApplied());\r\n  }, [dispatch, isSorted]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ToDoForm />\r\n      <SortFilter isDiabled={todos.length === 0} />\r\n      <ListWrapper>\r\n        {priorities.map((priority, index) => (\r\n          <ToDoList\r\n            key={index}\r\n            priority={index}\r\n            todos={todos.filter(todo => todo.priority === index)}\r\n            clearGroup={() => dispatch(actions.priorityCleared(index))}\r\n            onDrop={item =>\r\n              dispatch(\r\n                actions.todoPriorityChanged({\r\n                  newPriority: index,\r\n                  id: item.id\r\n                })\r\n              )\r\n            }\r\n          />\r\n        ))}\r\n      </ListWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nrender(\r\n  <Provider store={store}>\r\n    <DndProvider backend={Backend}>\r\n      <App />\r\n    </DndProvider>\r\n  </Provider>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}